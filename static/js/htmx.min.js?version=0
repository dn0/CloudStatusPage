const htmx = {};

htmx.process = function(a) {
    const url = new URL(a.href);
    const path = url.pathname + url.search + url.hash;
    a.href = path.substring(1) + '.html';
    return a;
};

function showArchiveBanner() {
    if (document.getElementById('archive-banner')) return;

    const banner = document.createElement('div');
    banner.id = 'archive-banner';
    
    Object.assign(banner.style, {
        position: 'fixed',
        bottom: '0',
        left: '0',
        width: '100%',
        height: '40px',
        backgroundColor: 'rgba(255, 100, 100, 0.5)',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        zIndex: '1000',
        fontFamily: 'Arial, sans-serif',
        boxShadow: '0 -2px 10px rgba(0,0,0,0.1)'
    });
    
    const message = document.createElement('p');
    message.textContent = `Archived snapshot of cloudstatus.page from November 27, 2024`;
    
    Object.assign(message.style, {
        color: '#eff',
        fontSize: '16px',
        textAlign: 'center',
        margin: '0'
    });
    
    banner.appendChild(message);
    
    document.body.appendChild(banner);
}

document.addEventListener('DOMContentLoaded', () => showArchiveBanner());
